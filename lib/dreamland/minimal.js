// dreamland.js, MIT license
const DLFEATURES = []; const DLVERSION = '0.0.24';
!function(e){const[t,n,r,i,l,s,o]=Array.from(Array(7),Symbol);let f=document;const u=Symbol();let c=!1;Object.defineProperty(window,"use",{get:()=>(c=!0,(e,l,...s)=>{p(e)||b(e),c=!1;let o={get value(){return function(e){let l=e[r],s=l[i],o=e[t],f=l[n];for(let e of s)if(f=f[e],!h(f))break;for(let e of o)f=e(f);return f}(o)}};if(b(e)){let n=[...e[t]];l&&n.push(l),o[r]=e[r],o[t]=n}else o[r]=e,o[t]=l?[l]:[];return o})}),Object.defineProperty(window,"useChange",{get:()=>(c=!0,(e,t)=>{c=!1,e=e instanceof Array?e:[e];for(let n of e)p(n)||b(n),y(use(n),t)})});let a=new Map;function d(e){e[l]=[],e[n]=e;let s=Symbol.toPrimitive,o=new Proxy(e,{get(e,l,o){if(c){let f=Symbol(),u=new Proxy({[n]:e,[r]:o,[i]:[l],[s]:()=>f},{get:(e,l)=>[n,r,i,t,s].includes(l)?e[l]:(l=a.get(l)||l,e[i].push(l),u)});return a.set(f,u),u}return Reflect.get(e,l,o)},set(e,t,n){let r=Reflect.set(e,t,n);for(let r of e[l])r(e,t,n);return r}});return o}let h=e=>e instanceof Object;function p(e){return h(e)&&i in e}function b(e){return h(e)&&t in e}function y(e,s){b(e);let o,f=e[r],u=e[t],c=[];function a(){let e=f[n];for(o of c)if(e=e[o],!h(e))break;for(let t of u)e=t(e);s(e)}let d=(e,t)=>function r(i,s,o){if(s===c[t]&&e===i&&(a(),h(o))){let e=o[l];e&&!e.includes(r)&&e.push(d(o[n],t+1))}};for(let e in f[i]){let t=f[i][e];h(t)&&t[n]?y(t,(t=>{c[e]=t,a()})):c[e]=t}let p=d(f[n],0);f[n][l].push(p),p(f[n],c[0],f[n][c[0]])}function g(e,t,n){let r,i,l,s;y(e,(e=>{l=i?.[0],l&&(r=l.previousSibling||(s=l.parentNode)),i&&i.forEach((e=>e.remove())),i=v(n?e?n.then:n.otherwise:e,(e=>{r?(s?(r.prepend(e),s=null):r.after(e),r=e):t(e)}))}))}let m=e=>t=>{let n=e[r],l=e[i],s=0;for(;s<l.length-1;s++)if(n=n[l[s]],!h(n))return;n[l[s]]=t};function v(e,t){let n,r,i;if(b(e))g(e,t);else{if(!h(e)||!(s in e)){if(e instanceof Node)return t(e),[e];if(e instanceof Array){for(n of(r=[],e))r=r.concat(v(n,t));return r[0]||(r=v("",t)),r}return null==e&&(e=""),i=f.createTextNode(e),t(i),[i]}g(e[s],t,e)}}function L(e,t,n){if(!n&&e.hasAttribute(t)&&e.removeAttribute(t),n)if(t.startsWith("on:")){let r=t.substring(3);for(let t of r.split("$"))e.addEventListener(t,((...t)=>{self.$el=e,n(...t)}))}else e.setAttribute(t,n)}e.$if=function(e,t,n){return n??=f.createTextNode(""),b(e)?{[s]:e,then:t,otherwise:n}:e?t:n},e.$state=d,e.Fragment=u,e.h=function(e,t,...n){if(e==u)return n;if("function"==typeof e){let i=d(Object.create(e.prototype));for(let e in t){let n=t[e];if(e.startsWith("bind:")){b(n);let l=m(n[r]),s=e.substring(5);if("this"==s)l(i);else{let e=!1;y(n,(t=>{e?e=!1:(e=!0,i[s]=t)})),y(use(i[s]),(t=>{e?e=!1:(e=!0,l(t))}))}delete t[e]}}Object.assign(i,t),i.children=[];for(let e of n)v(e,i.children.push.bind(i.children));let l=e.apply(i);return l.$=i,i.root=l,l.setAttribute("data-component",e.name),"function"==typeof i.mount&&i.mount(),l}let i=t?.xmlns,l=i?f.createElementNS(i,e):f.createElement(e);for(let e of n){v(e,l.append.bind(l))}if(!t)return l;((e,n)=>{if(!(e in t))return;n(t[e]),delete t[e]})("class",(e=>{if("string"==typeof e||e instanceof Array||b(e),"string"!=typeof e)if(b(e)){let t="";y(e,(e=>{for(let e of t.split(" "))e&&l.classList.remove(e);if("string"==typeof e){for(let t of e.split(" "))t&&l.classList.add(t);t=e}}))}else for(let t of e)if(b(t)){let e=null;y(t,(t=>{"string"==typeof e&&l.classList.remove(e),l.classList.add(t),e=t}))}else l.classList.add(t);else l.setAttribute("class",e)}));for(let e in t){let n=t[e];if(e.startsWith("bind:")){b(n);let i=e.substring(5),s=m(n[r]);"this"==i?s(l):"value"==i?(y(n,(e=>l.value=e)),l.addEventListener("change",(()=>s(l.value)))):"checked"==i&&(y(n,(e=>l.checked=e)),l.addEventListener("click",(()=>s(l.checked)))),delete t[e]}if(e.startsWith("class:")){let r=e.substring(6);b(n)?y(n,(e=>{e?l.classList.add(r):l.classList.remove(r)})):n&&l.classList.add(r),delete t[e]}if("style"==e&&h(n)&&!b(n)){for(let e in n){let t=n[e];b(t)?y(t,(t=>l.style[e]=t)):l.style[e]=t}delete t[e]}}for(let e in t){let n=t[e];b(n)?y(n,(t=>{L(l,e,t)})):L(l,e,n)}return i&&(l.innerHTML=l.innerHTML),l},e.isDLPtr=b,e.isStateful=function(e){return h(e)&&l in e}}(window)
//# sourceMappingURL=minimal.js.map
